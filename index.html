<!DOCTYPE html>
<html>
    <head>
        <title>AR.js 3D Model Visualization</title>
        <!-- Importa a biblioteca A-Frame -->
        <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
        <!-- Importa a biblioteca AR.js para A-Frame -->
        <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
        <!-- Adiciona a biblioteca de controle de gestos -->
        <script src="https://unpkg.com/aframe-gesture-component/dist/aframe-gesture-component.min.js"></script>
    </head>
    <body style="margin: 0; overflow: hidden;">
        <!-- Define a cena A-Frame com AR.js -->
        <a-scene embedded arjs="sourceType: webcam;">
            <!-- Define os assets utilizados na cena -->
            <a-assets>
                <!-- Carrega o modelo 3D -->
                <a-asset-item id="product-model" src="models/scene.gltf"></a-asset-item>
            </a-assets>
            <!-- Define o marcador AR.js -->
            <a-marker preset="hiro">
                <!-- Adiciona a entidade do modelo 3D com controle de gestos -->
                <a-entity
                    gltf-model="#product-model"
                    scale="0.5 0.5 0.5"
                    position="0 0 0"
                    rotation="0 0 0"
                    gesture-handler
                ></a-entity>
            </a-marker>
            <!-- Adiciona fontes de luz à cena -->
            <a-entity light="type: ambient; intensity: 0.5"></a-entity>
            <a-entity light="type: directional; intensity: 0.5" position="0 1 0"></a-entity>
            <!-- Adiciona a câmera à cena -->
            <a-entity camera></a-entity>
        </a-scene>
        <script>
            // Ouvinte para confirmar o carregamento da cena A-Frame
            document.querySelector('a-scene').addEventListener('loaded', () => {
                console.log('A-Frame scene loaded');
            });
            // Ouvinte para confirmar o carregamento do modelo 3D
            const modelEntity = document.querySelector('[gltf-model]');
            modelEntity.addEventListener('model-loaded', () => {
                console.log('3D model loaded successfully');
            });
            // Ouvinte para capturar erros no carregamento do modelo 3D
            modelEntity.addEventListener('model-error', (e) => {
                console.error('Error loading 3D model:', e.detail);
            });
        </script>
    </body>
</html>